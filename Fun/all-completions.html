---
title: "all-completions"
layout: doc
---
<strong>all-completions</strong> is a built-in function in `<code>C source code</code>'.</br>
</br>
(all-completions <u>STRING</u> <u>COLLECTION</u> &optional <u>PREDICATE</u> <u>HIDE-SPACES</u>)</br>
</br>
Search for partial matches to <u>STRING</u> in <u>COLLECTION</u>.</br>
Test each of the possible completions specified by <u>COLLECTION</u></br>
to see if it begins with <u>STRING</u>.  The possible completions may be</br>
strings or symbols.  Symbols are converted to strings before testing,</br>
see `symbol-name'.</br>
The value is a list of all the possible completions that match <u>STRING</u>.</br>
</br>
If <u>COLLECTION</u> is an alist, the keys (cars of elements) are the</br>
possible completions.  If an element is not a cons cell, then the</br>
element itself is the possible completion.</br>
If <u>COLLECTION</u> is a hash-table, all the keys that are strings or symbols</br>
are the possible completions.</br>
If <u>COLLECTION</u> is an obarray, the names of all symbols in the obarray</br>
are the possible completions.</br>
</br>
<u>COLLECTION</u> can also be a function to do the completion itself.</br>
It receives three arguments: the values <u>STRING</u>, <u>PREDICATE</u> and t.</br>
Whatever it returns becomes the value of `all-completions'.</br>
</br>
If optional third argument <u>PREDICATE</u> is non-nil,</br>
it is used to test each possible match.</br>
The match is a candidate only if <u>PREDICATE</u> returns non-nil.</br>
The argument given to <u>PREDICATE</u> is the alist element</br>
or the symbol from the obarray.  If <u>COLLECTION</u> is a hash-table,</br>
predicate is called with two arguments: the key and the value.</br>
Additionally to this predicate, `completion-regexp-list'</br>
is used to further constrain the set of candidates.</br>
</br>
An obsolete optional fourth argument <u>HIDE-SPACES</u> is still accepted for</br>
backward compatibility.  If non-nil, strings in <u>COLLECTION</u> that start</br>
with a space are ignored unless <u>STRING</u> itself starts with a space.
