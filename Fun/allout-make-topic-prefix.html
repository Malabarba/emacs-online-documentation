allout-make-topic-prefix is a compiled Lisp function in `allout.el'.<br/><br/>(allout-make-topic-prefix &optional PRIOR-BULLET NEW DEPTH INSTEAD NUMBER-CONTROL INDEX)<br/><br/>Generate a topic prefix suitable for optional arg DEPTH, or current depth.<br/><br/>All the arguments are optional.<br/><br/>PRIOR-BULLET indicates the bullet of the prefix being changed, or<br/>nil if none.  This bullet may be preserved (other options<br/>notwithstanding) if it is on the `allout-distinctive-bullets-string',<br/>for instance.<br/><br/>Second arg NEW indicates that a new topic is being opened after the<br/>topic at point, if non-nil.  Default bullet for new topics, eg, may<br/>be set (contingent to other args) to numbered bullets if previous<br/>sibling is one.  The implication otherwise is that the current topic<br/>is being adjusted -- shifted or rebulleted -- and we don't consider<br/>bullet or previous sibling.<br/><br/>Third arg DEPTH forces the topic prefix to that depth, regardless of<br/>the current topics' depth.<br/><br/>If INSTEAD is:<br/><br/>- nil, then the bullet char for the context is used, per distinction or depth<br/>- a (numeric) character, then character's string representation is used<br/>- a string, then the user is asked for bullet with the first char as default<br/>- anything else, the user is solicited with bullet char per context as default<br/><br/>(INSTEAD overrides other options, including, eg, a distinctive<br/>PRIOR-BULLET.)<br/><br/>Fifth arg, NUMBER-CONTROL, matters only if `allout-numbered-bullet'<br/>is non-nil *and* no specific INSTEAD was specified.  Then<br/>NUMBER-CONTROL non-nil forces prefix to either numbered or<br/>unnumbered format, depending on the value of the sixth arg, INDEX.<br/><br/>(Note that NUMBER-CONTROL does *not* apply to level 1 topics.  Sorry...)<br/><br/>If NUMBER-CONTROL is non-nil and sixth arg INDEX is non-nil then<br/>the prefix of the topic is forced to be numbered.  Non-nil<br/>NUMBER-CONTROL and nil INDEX forces non-numbered format on the<br/>bullet.  Non-nil NUMBER-CONTROL and non-nil, non-number INDEX means<br/>that the index for the numbered prefix will be derived, by counting<br/>siblings back to start of level.  If INDEX is a number, then that<br/>number is used as the index for the numbered prefix (allowing, eg,<br/>sequential renumbering to not require this function counting back the<br/>index for each successive sibling).