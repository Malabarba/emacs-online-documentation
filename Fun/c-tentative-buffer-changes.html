<strong>c-tentative-buffer-changes</strong> is a Lisp macro in `<code>cc-defs.el</code>'.<br/>
<br/>
(c-tentative-buffer-changes &rest BODY)<br/>
<br/>
Eval BODY and optionally restore the buffer contents to the state it<br/>
was in before BODY.  Any changes are kept if the last form in BODY<br/>
returns non-nil.  Otherwise it's undone using the undo facility, and<br/>
various other buffer state that might be affected by the changes is<br/>
restored.  That includes the current buffer, point, mark, mark<br/>
activation (similar to `save-excursion'), and the modified state.<br/>
The state is also restored if BODY exits nonlocally.<br/>
<br/>
If BODY makes a change that unconditionally is undone then wrap this<br/>
macro inside `c-save-buffer-state'.  That way the change can be done<br/>
even when the buffer is read-only, and without interference from<br/>
various buffer change hooks.