<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"><head><style type="text/css"> @import url('http://www.gnu.org/software/emacs/manual.css');</style></head><body style="padding:1rem;"><strong>composition-get-gstring</strong> is a built-in function in `<code>C source code</code>'.</br>
</br>
(composition-get-gstring <u>FROM</u> <u>TO</u> <u>FONT-OBJECT</u> <u>STRING</u>)</br>
</br>
Return a glyph-string for characters between <u>FROM</u> and <u>TO</u>.</br>
If the glyph string is for graphic display, <u>FONT-OBJECT</u> must be</br>
a font-object to use for those characters.</br>
Otherwise (for terminal display), <u>FONT-OBJECT</u> must be a terminal ID, a</br>
frame, or nil for the selected frame's terminal device.</br>
</br>
If the optional 4th argument <u>STRING</u> is not nil, it is a string</br>
containing the target characters between indices <u>FROM</u> and <u>TO</u>,</br>
which are treated as in `substring'.  Otherwise <u>FROM</u> and <u>TO</u> are</br>
character positions in current buffer; they can be in either order,</br>
and can be integers or markers.</br>
</br>
A glyph-string is a vector containing information about how to display</br>
a specific character sequence.  The format is:</br>
   [HEADER ID GLYPH ...]</br>
</br>
HEADER is a vector of this form:</br>
    [<u>FONT-OBJECT</u> CHAR ...]</br>
where</br>
    <u>FONT-OBJECT</u> is a font-object for all glyphs in the glyph-string,</br>
    or the terminal coding system of the specified terminal.</br>
    CHARs are characters to be composed by GLYPHs.</br>
</br>
ID is an identification number of the glyph-string.  It may be nil if</br>
not yet shaped.</br>
</br>
GLYPH is a vector whose elements have this form:</br>
    [ FROM-IDX TO-IDX C CODE WIDTH LBEARING RBEARING ASCENT DESCENT</br>
      [ [X-OFF Y-OFF WADJUST] | nil] ]</br>
where</br>
    FROM-IDX and TO-IDX are used internally and should not be touched.</br>
    C is the character of the glyph.</br>
    CODE is the glyph-code of C in <u>FONT-OBJECT</u>.</br>
    WIDTH thru DESCENT are the metrics (in pixels) of the glyph.</br>
    X-OFF and Y-OFF are offsets to the base position for the glyph.</br>
    WADJUST is the adjustment to the normal width of the glyph.</br>
</br>
If GLYPH is nil, the remaining elements of the glyph-string vector</br>
should be ignored.<br/><br/><br/><br/><small>A courtesy of <a href="http://endlessparentheses.com/">Endless Parentheses</a>. Content under GPL as a part of GNU Emacs.</small></body></html>
