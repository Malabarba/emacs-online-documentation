constrain-to-field is a built-in function in `C source code'.<br/><br/>(constrain-to-field NEW-POS OLD-POS &optional ESCAPE-FROM-EDGE ONLY-IN-LINE INHIBIT-CAPTURE-PROPERTY)<br/><br/>Return the position closest to NEW-POS that is in the same field as OLD-POS.<br/>A field is a region of text with the same `field' property.<br/><br/>If NEW-POS is nil, then use the current point instead, and move point<br/>to the resulting constrained position, in addition to returning that<br/>position.<br/><br/>If OLD-POS is at the boundary of two fields, then the allowable<br/>positions for NEW-POS depends on the value of the optional argument<br/>ESCAPE-FROM-EDGE: If ESCAPE-FROM-EDGE is nil, then NEW-POS is<br/>constrained to the field that has the same `field' char-property<br/>as any new characters inserted at OLD-POS, whereas if ESCAPE-FROM-EDGE<br/>is non-nil, NEW-POS is constrained to the union of the two adjacent<br/>fields.  Additionally, if two fields are separated by another field with<br/>the special value `boundary', then any point within this special field is<br/>also considered to be `on the boundary'.<br/><br/>If the optional argument ONLY-IN-LINE is non-nil and constraining<br/>NEW-POS would move it to a different line, NEW-POS is returned<br/>unconstrained.  This useful for commands that move by line, like<br/>C-n or M-x beginning-of-line, which should generally respect field boundaries<br/>only in the case where they can still move to the right line.<br/><br/>If the optional argument INHIBIT-CAPTURE-PROPERTY is non-nil, and OLD-POS has<br/>a non-nil property of that name, then any field boundaries are ignored.<br/><br/>Field boundaries are not noticed if `inhibit-field-text-motion' is non-nil.