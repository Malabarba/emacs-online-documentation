---
title: "define-ibuffer-op"
layout: doc
---
<strong>define-ibuffer-op</strong> is a Lisp macro in `<code>ibuf-macs.el</code>'.</br>
</br>
(define-ibuffer-op <u>OP</u> <u>ARGS</u> <u>DOCUMENTATION</u> (&key <u>INTERACTIVE</u> <u>MARK</u> <u>MODIFIER-P</u> <u>DANGEROUS</u> <u>OPSTRING</u> <u>ACTIVE-OPSTRING</u> <u>COMPLEX</u>) &rest <u>BODY</u>)</br>
</br>
Generate a function which operates on a buffer.</br>
<u>OP</u> becomes the name of the function; if it doesn't begin with</br>
`ibuffer-do-', then that is prepended to it.</br>
When an operation is performed, this function will be called once for</br>
each marked buffer, with that buffer current.</br>
</br>
<u>ARGS</u> becomes the formal parameters of the function.</br>
<u>DOCUMENTATION</u> becomes the docstring of the function.</br>
<u>INTERACTIVE</u> becomes the interactive specification of the function.</br>
<u>MARK</u> describes which type of mark (:deletion, or nil) this operation</br>
uses.  :deletion means the function operates on buffers marked for</br>
deletion, otherwise it acts on normally marked buffers.</br>
<u>MODIFIER-P</u> describes how the function modifies buffers.  This is used</br>
to set the modification flag of the Ibuffer buffer itself.  Valid</br>
values are:</br>
 nil - the function never modifiers buffers</br>
 t - the function it always modifies buffers</br>
 :maybe - attempt to discover this information by comparing the</br>
  buffer's modification flag.</br>
<u>DANGEROUS</u> is a boolean which should be set if the user should be</br>
prompted before performing this operation.</br>
<u>OPSTRING</u> is a string which will be displayed to the user after the</br>
operation is complete, in the form:</br>
 "Operation complete; <u>OPSTRING</u> x buffers"</br>
<u>ACTIVE-OPSTRING</u> is a string which will be displayed to the user in a</br>
confirmation message, in the form:</br>
 "Really <u>ACTIVE-OPSTRING</u> x buffers?"</br>
<u>COMPLEX</u> means this function is special; see the source code of this</br>
macro for exactly what it does.
