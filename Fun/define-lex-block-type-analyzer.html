<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"><head><style type="text/css"> @import url('http://www.gnu.org/software/emacs/manual.css');</style></head><body style="padding:1rem;"><strong>define-lex-block-type-analyzer</strong> is a Lisp macro in `<code>lex.el</code>'.</br>
</br>
(define-lex-block-type-analyzer <u>NAME</u> <u>DOC</u> <u>SYNTAX</u> <u>MATCHES</u>)</br>
</br>
Define a block type analyzer <u>NAME</u> with <u>DOC</u> string.</br>
</br>
<u>SYNTAX</u> is the regexp that matches block delimiters,  typically the</br>
open (`\\s(') and close (`\\s)') parenthesis syntax classes.</br>
</br>
<u>MATCHES</u> is a pair (OPEN-SPECS . CLOSE-SPECS) that defines blocks.</br>
</br>
  OPEN-SPECS is a list of (OPEN-DELIM OPEN-TOKEN BLOCK-TOKEN) elements</br>
  where:</br>
</br>
    OPEN-DELIM is a string: the block open delimiter character.</br>
</br>
    OPEN-TOKEN is the lexical token class associated to the OPEN-DELIM</br>
    delimiter.</br>
</br>
    BLOCK-TOKEN is the lexical token class associated to the block</br>
    that starts at the OPEN-DELIM delimiter.</br>
</br>
  CLOSE-SPECS is a list of (CLOSE-DELIM CLOSE-TOKEN) elements where:</br>
</br>
    CLOSE-DELIM is a string: the block end delimiter character.</br>
</br>
    CLOSE-TOKEN is the lexical token class associated to the</br>
    CLOSE-DELIM delimiter.</br>
</br>
Each element in OPEN-SPECS must have a corresponding element in</br>
CLOSE-SPECS.</br>
</br>
The lexer will return a BLOCK-TOKEN token when the value of</br>
`semantic-lex-current-depth' is greater than or equal to the maximum</br>
depth of parenthesis tracking (see also the function `semantic-lex').</br>
Otherwise it will return OPEN-TOKEN and CLOSE-TOKEN tokens.</br>
</br>
TO DO: Put the following in the developer's guide and just put a</br>
reference here.</br>
</br>
In the grammar:</br>
</br>
The value of a block token must be a string that contains a readable</br>
sexp of the form:</br>
</br>
  "(OPEN-TOKEN CLOSE-TOKEN)"</br>
</br>
OPEN-TOKEN and CLOSE-TOKEN represent the block delimiters, and must be</br>
lexical tokens of respectively `open-paren' and `close-paren' types.</br>
Their value is the corresponding delimiter character as a string.</br>
</br>
Here is a small example to analyze a parenthesis block:</br>
</br>
  %token &lt;block>       PAREN_BLOCK "(LPAREN RPAREN)"</br>
  %token &lt;open-paren>  LPAREN      "("</br>
  %token &lt;close-paren> RPAREN      ")"</br>
</br>
When the lexer encounters the open-paren delimiter "(":</br>
</br>
 - If the maximum depth of parenthesis tracking is not reached (that</br>
   is, current depth &lt; max depth), it returns a (LPAREN start .  end)</br>
   token, then continue analysis inside the block.  Later, when the</br>
   corresponding close-paren delimiter ")" will be encountered, it</br>
   will return a (RPAREN start . end) token.</br>
</br>
 - If the maximum depth of parenthesis tracking is reached (current</br>
   depth >= max depth), it returns the whole parenthesis block as</br>
   a (PAREN_BLOCK start . end) token.<br/><br/><br/><br/><small>A courtesy of <a href="http://endlessparentheses.com/">Endless Parentheses</a>.</small></body></html>
