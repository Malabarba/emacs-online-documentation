define-lex-block-type-analyzer is a Lisp macro in `lex.el'.<br/><br/>(define-lex-block-type-analyzer NAME DOC SYNTAX MATCHES)<br/><br/>Define a block type analyzer NAME with DOC string.<br/><br/>SYNTAX is the regexp that matches block delimiters,  typically the<br/>open (`\\s(') and close (`\\s)') parenthesis syntax classes.<br/><br/>MATCHES is a pair (OPEN-SPECS . CLOSE-SPECS) that defines blocks.<br/><br/>  OPEN-SPECS is a list of (OPEN-DELIM OPEN-TOKEN BLOCK-TOKEN) elements<br/>  where:<br/><br/>    OPEN-DELIM is a string: the block open delimiter character.<br/><br/>    OPEN-TOKEN is the lexical token class associated to the OPEN-DELIM<br/>    delimiter.<br/><br/>    BLOCK-TOKEN is the lexical token class associated to the block<br/>    that starts at the OPEN-DELIM delimiter.<br/><br/>  CLOSE-SPECS is a list of (CLOSE-DELIM CLOSE-TOKEN) elements where:<br/><br/>    CLOSE-DELIM is a string: the block end delimiter character.<br/><br/>    CLOSE-TOKEN is the lexical token class associated to the<br/>    CLOSE-DELIM delimiter.<br/><br/>Each element in OPEN-SPECS must have a corresponding element in<br/>CLOSE-SPECS.<br/><br/>The lexer will return a BLOCK-TOKEN token when the value of<br/>`semantic-lex-current-depth' is greater than or equal to the maximum<br/>depth of parenthesis tracking (see also the function `semantic-lex').<br/>Otherwise it will return OPEN-TOKEN and CLOSE-TOKEN tokens.<br/><br/>TO DO: Put the following in the developer's guide and just put a<br/>reference here.<br/><br/>In the grammar:<br/><br/>The value of a block token must be a string that contains a readable<br/>sexp of the form:<br/><br/>  "(OPEN-TOKEN CLOSE-TOKEN)"<br/><br/>OPEN-TOKEN and CLOSE-TOKEN represent the block delimiters, and must be<br/>lexical tokens of respectively `open-paren' and `close-paren' types.<br/>Their value is the corresponding delimiter character as a string.<br/><br/>Here is a small example to analyze a parenthesis block:<br/><br/>  %token <block>       PAREN_BLOCK "(LPAREN RPAREN)"<br/>  %token <open-paren>  LPAREN      "("<br/>  %token <close-paren> RPAREN      ")"<br/><br/>When the lexer encounters the open-paren delimiter "(":<br/><br/> - If the maximum depth of parenthesis tracking is not reached (that<br/>   is, current depth < max depth), it returns a (LPAREN start .  end)<br/>   token, then continue analysis inside the block.  Later, when the<br/>   corresponding close-paren delimiter ")" will be encountered, it<br/>   will return a (RPAREN start . end) token.<br/><br/> - If the maximum depth of parenthesis tracking is reached (current<br/>   depth >= max depth), it returns the whole parenthesis block as<br/>   a (PAREN_BLOCK start . end) token.