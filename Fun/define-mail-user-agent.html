<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"><head><style type="text/css"> @import url('http://www.gnu.org/software/emacs/manual.css');</style></head><body style="padding:1rem;"><strong>define-mail-user-agent</strong> is a compiled Lisp function in `<code>subr.el</code>'.</br>
</br>
(define-mail-user-agent <u>SYMBOL</u> <u>COMPOSEFUNC</u> <u>SENDFUNC</u> &optional <u>ABORTFUNC</u> <u>HOOKVAR</u>)</br>
</br>
Define a symbol to identify a mail-sending package for `mail-user-agent'.</br>
</br>
<u>SYMBOL</u> can be any Lisp symbol.  Its function definition and/or</br>
value as a variable do not matter for this usage; we use only certain</br>
properties on its property list, to encode the rest of the arguments.</br>
</br>
<u>COMPOSEFUNC</u> is program callable function that composes an outgoing</br>
mail message buffer.  This function should set up the basics of the</br>
buffer without requiring user interaction.  It should populate the</br>
standard mail headers, leaving the `to:' and `subject:' headers blank</br>
by default.</br>
</br>
<u>COMPOSEFUNC</u> should accept several optional arguments--the same</br>
arguments that `compose-mail' takes.  See that function's documentation.</br>
</br>
<u>SENDFUNC</u> is the command a user would run to send the message.</br>
</br>
Optional <u>ABORTFUNC</u> is the command a user would run to abort the</br>
message.  For mail packages that don't have a separate abort function,</br>
this can be `kill-buffer' (the equivalent of omitting this argument).</br>
</br>
Optional <u>HOOKVAR</u> is a hook variable that gets run before the message</br>
is actually sent.  Callers that use the `mail-user-agent' may</br>
install a hook function temporarily on this hook variable.</br>
If <u>HOOKVAR</u> is nil, `mail-send-hook' is used.</br>
</br>
The properties used on <u>SYMBOL</u> are `composefunc', `sendfunc',</br>
`abortfunc', and `hookvar'.<br/><br/><br/><br/><small>A courtesy of <a href="http://endlessparentheses.com/">Endless Parentheses</a>.</small></body></html>
