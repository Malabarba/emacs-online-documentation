---
title: "file-remote-p"
layout: doc
---
<strong>file-remote-p</strong> is a compiled Lisp function in `<code>files.el</code>'.</br>
</br>
(file-remote-p <u>FILE</u> &optional <u>IDENTIFICATION</u> <u>CONNECTED</u>)</br>
</br>
Test whether <u>FILE</u> specifies a location on a remote system.</br>
A file is considered remote if accessing it is likely to</br>
be slower or less reliable than accessing local files.</br>
</br>
`file-remote-p' never opens a new remote connection.  It can</br>
only reuse a connection that is already open.</br>
</br>
Return nil or a string identifying the remote connection</br>
(ideally a prefix of <u>FILE</u>).  Return nil if <u>FILE</u> is a relative</br>
file name.</br>
</br>
When <u>IDENTIFICATION</u> is nil, the returned string is a complete</br>
remote identifier: with components method, user, and host.  The</br>
components are those present in <u>FILE</u>, with defaults filled in for</br>
any that are missing.</br>
</br>
<u>IDENTIFICATION</u> can specify which part of the identification to</br>
return.  <u>IDENTIFICATION</u> can be the symbol `method', `user',</br>
`host', or `localname'.  Any other value is handled like nil and</br>
means to return the complete identification.  The string returned</br>
for <u>IDENTIFICATION</u> `localname' can differ depending on whether</br>
there is an existing connection.</br>
</br>
If <u>CONNECTED</u> is non-nil, return an identification only if <u>FILE</u> is</br>
located on a remote system and a connection is established to</br>
that remote system.</br>
</br>
Tip: You can use this expansion of remote identifier components</br>
     to derive a new remote file name from an existing one.  For</br>
     example, if <u>FILE</u> is "/sudo::/path/to/file" then</br>
</br>
       (concat (file-remote-p <u>FILE</u>) "/bin/sh")</br>
</br>
     returns a remote file name for file "/bin/sh" that has the</br>
     same remote identifier as <u>FILE</u> but expanded; a name such as</br>
     "/sudo:root@myhost:/bin/sh".
