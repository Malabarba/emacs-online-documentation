<strong>gnutls-negotiate</strong> is an autoloaded compiled Lisp function in `<code>gnutls.el</code>'.</br>
</br>
(gnutls-negotiate &rest <u>SPEC</u> &key <u>PROCESS</u> <u>TYPE</u> <u>HOSTNAME</u> <u>PRIORITY-STRING</u> <u>TRUSTFILES</u> <u>CRLFILES</u> <u>KEYLIST</u> <u>MIN-PRIME-BITS</u> <u>VERIFY-FLAGS</u> <u>VERIFY-ERROR</u> <u>VERIFY-HOSTNAME-ERROR</u> &allow-other-keys)</br>
</br>
Negotiate a SSL/TLS connection.  Returns proc.  Signals gnutls-error.</br>
</br>
Note arguments are passed CL style, :type <u>TYPE</u> instead of just <u>TYPE</u>.</br>
</br>
<u>TYPE</u> is `gnutls-x509pki' (default) or `gnutls-anon'.  Use nil for the default.</br>
<u>PROCESS</u> is a process returned by `open-network-stream'.</br>
<u>HOSTNAME</u> is the remote hostname.  It must be a valid string.</br>
<u>PRIORITY-STRING</u> is as per the GnuTLS docs, default is "NORMAL".</br>
<u>TRUSTFILES</u> is a list of CA bundles.  It defaults to `gnutls-trustfiles'.</br>
<u>CRLFILES</u> is a list of CRL files.</br>
<u>KEYLIST</u> is an alist of (client key file, client cert file) pairs.</br>
<u>MIN-PRIME-BITS</u> is the minimum acceptable size of Diffie-Hellman keys</br>
(see `gnutls-min-prime-bits' for more information).  Use nil for the</br>
default.</br>
</br>
<u>VERIFY-HOSTNAME-ERROR</u> is a backwards compatibility option for</br>
putting `:hostname' in <u>VERIFY-ERROR</u>.</br>
</br>
When <u>VERIFY-ERROR</u> is t or a list containing `:trustfiles', an</br>
error will be raised when the peer certificate verification fails</br>
as per GnuTLS' gnutls_certificate_verify_peers2.  Otherwise, only</br>
warnings will be shown about the verification failure.</br>
</br>
When <u>VERIFY-ERROR</u> is t or a list containing `:hostname', an error</br>
will be raised when the hostname does not match the presented</br>
certificate's host name.  The exact verification algorithm is a</br>
basic implementation of the matching described in</br>
RFC2818 (HTTPS), which takes into account wildcards, and the</br>
DNSName/IPAddress subject alternative name PKIX extension.  See</br>
GnuTLS' gnutls_x509_crt_check_hostname for details.  Otherwise,</br>
only a warning will be issued.</br>
</br>
Note that the list in `gnutls-verify-error', matched against the</br>
<u>HOSTNAME</u>, is the default <u>VERIFY-ERROR</u>.</br>
</br>
<u>VERIFY-FLAGS</u> is a numeric OR of verification flags only for</br>
`gnutls-x509pki' connections.  See GnuTLS' x509.h for details;</br>
here's a recent version of the list.</br>
</br>
    GNUTLS_VERIFY_DISABLE_CA_SIGN = 1,</br>
    GNUTLS_VERIFY_ALLOW_X509_V1_CA_CRT = 2,</br>
    GNUTLS_VERIFY_DO_NOT_ALLOW_SAME = 4,</br>
    GNUTLS_VERIFY_ALLOW_ANY_X509_V1_CA_CRT = 8,</br>
    GNUTLS_VERIFY_ALLOW_SIGN_RSA_MD2 = 16,</br>
    GNUTLS_VERIFY_ALLOW_SIGN_RSA_MD5 = 32,</br>
    GNUTLS_VERIFY_DISABLE_TIME_CHECKS = 64,</br>
    GNUTLS_VERIFY_DISABLE_TRUSTED_TIME_CHECKS = 128,</br>
    GNUTLS_VERIFY_DO_NOT_ALLOW_X509_V1_CA_CRT = 256</br>
</br>
It must be omitted, a number, or nil; if omitted or nil it</br>
defaults to GNUTLS_VERIFY_ALLOW_X509_V1_CA_CRT.