---
title: "quail-defrule"
layout: doc
---
<strong>quail-defrule</strong> is an autoloaded Lisp function in `<code>quail.el</code>'.</br>
</br>
(quail-defrule <u>KEY</u> <u>TRANSLATION</u> &optional <u>NAME</u> <u>APPEND</u>)</br>
</br>
Add one translation rule, <u>KEY</u> to <u>TRANSLATION</u>, in the current Quail package.</br>
<u>KEY</u> is a string meaning a sequence of keystrokes to be translated.</br>
<u>TRANSLATION</u> is a character, a string, a vector, a Quail map,</br>
 a function, or a cons.</br>
It it is a character, it is the sole translation of <u>KEY</u>.</br>
If it is a string, each character is a candidate for the translation.</br>
If it is a vector, each element (string or character) is a candidate</br>
 for the translation.</br>
If it is a cons, the car is one of the above and the cdr is a function</br>
 to call when translating <u>KEY</u> (the return value is assigned to the</br>
 variable `quail-current-data').  If the cdr part is not a function,</br>
 the value itself is assigned to `quail-current-data'.</br>
In these cases, a key specific Quail map is generated and assigned to <u>KEY</u>.</br>
</br>
If <u>TRANSLATION</u> is a Quail map or a function symbol which returns a Quail map,</br>
 it is used to handle <u>KEY</u>.</br>
</br>
Optional 3rd argument <u>NAME</u>, if specified, says which Quail package</br>
to define this translation rule in.  The default is to define it in the</br>
current Quail package.</br>
</br>
Optional 4th argument <u>APPEND</u>, if non-nil, appends <u>TRANSLATION</u></br>
to the current translations for <u>KEY</u> instead of replacing them.
