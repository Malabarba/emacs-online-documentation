---
title: "rx-atomic-p"
layout: doc
---
<strong>rx-atomic-p</strong> is a compiled Lisp function in `<code>rx.el</code>'.</br>
</br>
(rx-atomic-p <u>R</u> &optional <u>LAX</u>)</br>
</br>
Return non-nil if regexp string <u>R</u> is atomic.</br>
An atomic regexp <u>R</u> is one such that a suffix operator</br>
appended to <u>R</u> will apply to all of <u>R</u>.  For example, "a"</br>
"[abc]" and "\(ab\|ab*c\)" are atomic and "ab",</br>
"[ab]c", and "ab\|ab*c" are not atomic.</br>
</br>
This function may return false negatives, but it will not</br>
return false positives.  It is nevertheless useful in</br>
situations where an efficiency shortcut can be taken only if a</br>
regexp is atomic.  The function can be improved to detect</br>
more cases of atomic regexps.  Presently, this function</br>
detects the following categories of atomic regexp;</br>
</br>
  a group or shy group:  \(...\)</br>
  a character class:     [...]</br>
  a single character:    a</br>
</br>
On the other hand, false negatives will be returned for</br>
regexps that are atomic but end in operators, such as</br>
"a+".  I think these are rare.  Probably such cases could</br>
be detected without much effort.  A guarantee of no false</br>
negatives would require a theoretic specification of the set</br>
of all atomic regexps.
