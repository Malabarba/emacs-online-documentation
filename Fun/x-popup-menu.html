<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"><head><style type="text/css"> @import url('http://www.gnu.org/software/emacs/manual.css');</style></head><body style="padding:1rem;"><strong>x-popup-menu</strong> is a built-in function in `<code>C source code</code>'.</br>
</br>
(x-popup-menu <u>POSITION</u> <u>MENU</u>)</br>
</br>
Pop up a deck-of-cards menu and return user's selection.</br>
<u>POSITION</u> is a position specification.  This is either a mouse button event</br>
or a list ((XOFFSET YOFFSET) WINDOW)</br>
where XOFFSET and YOFFSET are positions in pixels from the top left</br>
corner of WINDOW.  (WINDOW may be a window or a frame object.)</br>
This controls the position of the top left of the menu as a whole.</br>
If <u>POSITION</u> is t, it means to use the current mouse position.</br>
</br>
<u>MENU</u> is a specifier for a menu.  For the simplest case, <u>MENU</u> is a keymap.</br>
The menu items come from key bindings that have a menu string as well as</br>
a definition; actually, the "definition" in such a key binding looks like</br>
(STRING . REAL-DEFINITION).  To give the menu a title, put a string into</br>
the keymap as a top-level element.</br>
</br>
If REAL-DEFINITION is nil, that puts a nonselectable string in the menu.</br>
Otherwise, REAL-DEFINITION should be a valid key binding definition.</br>
</br>
You can also use a list of keymaps as <u>MENU</u>.</br>
  Then each keymap makes a separate pane.</br>
</br>
When <u>MENU</u> is a keymap or a list of keymaps, the return value is the</br>
list of events corresponding to the user's choice. Note that</br>
`x-popup-menu' does not actually execute the command bound to that</br>
sequence of events.</br>
</br>
Alternatively, you can specify a menu of multiple panes</br>
  with a list of the form (TITLE PANE1 PANE2...),</br>
where each pane is a list of form (TITLE ITEM1 ITEM2...).</br>
Each ITEM is normally a cons cell (STRING . VALUE);</br>
but a string can appear as an item--that makes a nonselectable line</br>
in the menu.</br>
With this form of menu, the return value is VALUE from the chosen item.</br>
</br>
If <u>POSITION</u> is nil, don't display the menu at all, just precalculate the</br>
cached information about equivalent key sequences.</br>
</br>
If the user gets rid of the menu without making a valid choice, for</br>
instance by clicking the mouse away from a valid choice or by typing</br>
keyboard input, then this normally results in a quit and</br>
`x-popup-menu' does not return.  But if <u>POSITION</u> is a mouse button</br>
event (indicating that the user invoked the menu with the mouse) then</br>
no quit occurs and `x-popup-menu' returns nil.<br/><br/><br/><br/><small>A courtesy of <a href="http://endlessparentheses.com/">Endless Parentheses</a>.</small></body></html>
