---
title: "filesets-ingroup-patterns"
layout: doc
---
<strong>filesets-ingroup-patterns</strong> is a variable defined in `<code>filesets.el</code>'.</br>
Its value is shown <a href="#value">below</a>.</br>
<ul><li>  This variable may be risky if used as a file-local variable.</li></ul></br>
<strong id="documentation">Documentation:</strong></br>
Inclusion group definitions.</br>
</br>
Define how to find included file according to a file's mode (being</br>
defined by a file pattern).</br>
</br>
A valid entry has the form (FILE-PATTERN REMOVE-DUPLICATES-FLAG</br>
CMD-DEF1 ...), CMD-DEF1 being a plist containing the fields :pattern</br>
(mandatory), :name, :get-file-name, :match-number, :scan-depth,</br>
:preprocess, :case-sensitive.</br>
</br>
File Pattern ... A regexp matching the file's name for which the</br>
following rules should be applied.</br>
</br>
Remove Duplicates ... If t, only the first occurrence of an included</br>
file is retained.  (See below for a full explanation.)</br>
</br>
:name STRING ... This pattern's name.</br>
</br>
:pattern REGEXP ... A regexp matching the command.  This regexp has to</br>
include a group that holds the name of the included file.</br>
</br>
:get-file-name FUNCTION (default: `filesets-which-file') ... A function</br>
that takes two arguments (the path of the master file and the name</br>
of the included file) and returns a valid path or nil -- if the</br>
subfile can't be found.</br>
</br>
:match-number INTEGER (default: 1) ... The number of the match/group</br>
in the pattern holding the subfile's name.  0 refers the whole</br>
match, 1 to the first group.</br>
</br>
:stubp FUNCTION ... If (FUNCTION MASTER INCLUDED-FILE) returns non-nil,</br>
INCLUDED-FILE is a stub -- see below.</br>
</br>
:stub-flag ... Files of this type are stubs -- see below.</br>
</br>
:scan-depth INTEGER (default: 0) ... Whether included files should be</br>
rescanned.  Set this to 0 to disable re-scanning of included file.</br>
</br>
:preprocess FUNCTION ... A function modifying a buffer holding the</br>
master file so that pattern matching becomes easier.  This is usually</br>
used to narrow a buffer to the relevant region.  This function could also</br>
be destructive and simply delete non-relevant text.</br>
</br>
:case-sensitive BOOLEAN (default: nil) ... Whether a pattern is</br>
case-sensitive or not.</br>
</br>
</br>
Stubs:</br>
</br>
First, a stub is a file that shows up in the menu but will not be</br>
included in an ingroup's file listing -- i.e. filesets will never</br>
operate on this file automatically.  Secondly, in opposition to normal</br>
files stubs are not scanned for new inclusion groups.  This is useful if</br>
you want to have quick access to library headers.</br>
</br>
In the menu, an asterisk is appended to the stub's name.</br>
</br>
</br>
Remove Duplicates:</br>
</br>
E.g. File A and file B refer to file X; X refers to A.  If</br>
you choose not to remove duplicates the tree would look like:</br>
</br>
    M + A - X - A ...</br>
        B - X - A ...</br>
</br>
As you can see, there is some chance that you run in circles.</br>
Nevertheless, up to some degree this could still be what you want.</br>
</br>
With duplicates removed, it would be:</br>
</br>
    M + A - X</br>
        B</br>
</br>
You can customize this variable.</br>
</br>
<strong id="value">Value:</strong> <pre></br>
(("^.+\\.tex$" t
  (((:name "Package")
    (:pattern "\\\\usepackage\\W*\\(\\[[^]]*\\]\\W*\\)?{\\W*\\(.+\\)\\W*}")
    (:match-number 2)
    (:stub-flag t)
    (:get-file-name
     (lambda
       (master file)
       (filesets-which-file master
			    (concat file ".sty")
			    (filesets-convert-path-list
			     (or
			      (getenv "MY_TEXINPUTS")
			      (getenv "TEXINPUTS")))))))
   ((:name "Include")
    (:pattern "\\\\include\\W*{\\W*\\(.+\\)\\W*}")
    (:get-file-name
     (lambda
       (master file)
       (filesets-which-file master
			    (concat file ".tex")
			    (filesets-convert-path-list
			     (or
			      (getenv "MY_TEXINPUTS")
			      (getenv "TEXINPUTS"))))))
    (:scan-depth 5))
   ((:name "Input")
    (:pattern "\\\\input\\W*{\\W*\\(.+\\)\\W*}")
    (:stubp
     (lambda
       (a b)
       (not
	(filesets-files-in-same-directory-p a b))))
    (:get-file-name
     (lambda
       (master file)
       (filesets-which-file master
			    (concat file ".tex")
			    (filesets-convert-path-list
			     (or
			      (getenv "MY_TEXINPUTS")
			      (getenv "TEXINPUTS"))))))
    (:scan-depth 5))
   ((:name "Bibliography")
    (:pattern "\\\\bibliography\\W*{\\W*\\(.+\\)\\W*}")
    (:get-file-name
     (lambda
       (master file)
       (filesets-which-file master
			    (concat file ".bib")
			    (filesets-convert-path-list
			     (or
			      (getenv "MY_BIBINPUTS")
			      (getenv "BIBINPUTS")))))))))
 ("^.+\\.el$" t
  (((:name "Require")
    (:pattern "(require\\W+'\\(.+\\))")
    (:stubp
     (lambda
       (a b)
       (not
	(filesets-files-in-same-directory-p a b))))
    (:get-file-name
     (lambda
       (master file)
       (filesets-which-file master
			    (concat file ".el")
			    load-path))))
   ((:name "Load")
    (:pattern "(load\\(-library\\)?\\W+\"\\(.+\\)\")")
    (:match-number 2)
    (:get-file-name
     (lambda
       (master file)
       (filesets-which-file master file load-path))))))
 ("^\\([A-ZÄÖÜ][a-zäöüß]+\\([A-ZÄÖÜ][a-zäöüß]+\\)+\\)$" t
  (((:pattern "\\<\\([A-ZÄÖÜ][a-zäöüß]+\\([A-ZÄÖÜ][a-zäöüß]+\\)+\\)\\>")
    (:scan-depth 5)
    (:stubp
     (lambda
       (a b)
       (not
	(filesets-files-in-same-directory-p a b))))
    (:case-sensitive t)
    (:get-file-name
     (lambda
       (master file)
       (filesets-which-file master file
			    (if
				(boundp 'emacs-wiki-directories)
				emacs-wiki-directories nil))))))))
</pre></br>

