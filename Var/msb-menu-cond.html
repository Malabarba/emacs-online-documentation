---
title: "msb-menu-cond"
layout: doc
---
<strong>msb-menu-cond</strong> is a variable defined in `<code>msb.el</code>'.</br>
Its value is shown <a href="#value">below</a>.</br>
</br>
<strong id="documentation">Documentation:</strong></br>
List of criteria for splitting the mouse buffer menu.</br>
The elements in the list should be of this type:</br>
 (CONDITION MENU-SORT-KEY MENU-TITLE ITEM-HANDLING-FN ITEM-SORT-FN).</br>
</br>
When making the split, the buffers are tested one by one against the</br>
CONDITION, just like a Lisp cond: When hitting a true condition, the</br>
other criteria are *not* tested and the buffer name will appear in the</br>
menu with the menu-title corresponding to the true condition.</br>
</br>
If the condition returns the symbol `multi', then the buffer will be</br>
added to this menu *and* tested for other menus too.  If it returns</br>
`no-multi', then the buffer will only be added if it hasn't been added</br>
to any other menu.</br>
</br>
During this test, the buffer in question is the current buffer, and</br>
the test is surrounded by calls to `save-excursion' and</br>
`save-match-data'.</br>
</br>
The categories are sorted by MENU-SORT-KEY.  Smaller keys are on top.</br>
A value of nil means don't display this menu.</br>
</br>
MENU-TITLE is really a format.  If you add %d in it, the %d is</br>
replaced with the number of items in that menu.</br>
</br>
ITEM-HANDLING-FN is optional.  If it is supplied and is a function,</br>
then it is used for displaying the items in that particular buffer</br>
menu, otherwise the function pointed out by</br>
`msb-item-handling-function' is used.</br>
</br>
ITEM-SORT-FN is also optional.</br>
If it is not supplied, the function pointed out by</br>
`msb-item-sort-function' is used.</br>
If it is nil, then no sort takes place and the buffers are presented</br>
in least-recently-used order.</br>
If it is t, then no sort takes place and the buffers are presented in</br>
most-recently-used order.</br>
If it is supplied and non-nil and not t than it is used for sorting</br>
the items in that particular buffer menu.</br>
</br>
Note1: There should always be a `catch-all' as last element, in this</br>
list.  That is an element like (t TITLE ITEM-HANDLING-FUNCTION).</br>
Note2: A buffer menu appears only if it has at least one buffer in it.</br>
Note3: If you have a CONDITION that can't be evaluated you will get an</br>
error every time you do M-x msb.</br>
</br>
You can customize this variable.</br>
</br>
<strong id="value">Value:</strong> <pre></br>
(((and
   (boundp 'server-buffer-clients)
   server-buffer-clients 'multi)
  1010 "Clients (%d)")
 ((and
   (boundp 'vc-mode)
   vc-mode 'multi)
  1020 "Version Control (%d)")
 ((and buffer-file-name
       (buffer-modified-p)
       'multi)
  1030 "Changed files (%d)")
 ((and
   (get-buffer-process
    (current-buffer))
   'multi)
  1040 "Processes (%d)")
 ((and msb-display-invisible-buffers-p
       (msb-invisible-buffer-p)
       'multi)
  1090 "Invisible buffers (%d)")
 ((eq major-mode 'dired-mode)
  2010 "Dired (%d)" msb-dired-item-handler msb-sort-by-directory)
 ((eq major-mode 'Man-mode)
  5030 "Manuals (%d)")
 ((eq major-mode 'w3-mode)
  5020 "WWW (%d)")
 ((or
   (memq major-mode
	 '(rmail-mode rmail-edit-mode vm-summary-mode vm-mode mail-mode))
   (memq major-mode
	 '(mh-letter-mode mh-show-mode mh-folder-mode))
   (memq major-mode
	 '(gnus-summary-mode message-mode gnus-group-mode gnus-article-mode score-mode gnus-browse-killed-mode)))
  5010 "Mail (%d)")
 ((and
   (not buffer-file-name)
   'no-multi)
  5099 "Other non-file buffers (%d)")
 ((and
   (string-match "/\\.[^/]*$" buffer-file-name)
   'multi)
  3090 "Hidden Files (%d)")
 ((memq major-mode
	'(c-mode c++-mode))
  3010 "C/C++ Files (%d)")
 ((eq major-mode 'emacs-lisp-mode)
  3020 "Elisp Files (%d)")
 ((eq major-mode 'latex-mode)
  3030 "LaTeX Files (%d)")
 ('no-multi 3099 "Other files (%d)"))
</pre></br>

